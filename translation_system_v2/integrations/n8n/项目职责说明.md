# ğŸ“‹ é¡¹ç›®èŒè´£è¯´æ˜

## ğŸ¯ æœ¬é¡¹ç›®ï¼ˆn8n é›†æˆï¼‰èŒè´£èŒƒå›´

### âœ… è´Ÿè´£å†…å®¹

1. **n8n å®¹å™¨ç®¡ç†**
   - n8n Docker å®¹å™¨çš„å¯åŠ¨/åœæ­¢
   - n8n é…ç½®ï¼ˆ.envã€docker-compose.ymlï¼‰
   - n8n æ•°æ®æŒä¹…åŒ–

2. **å·¥ä½œæµè‡ªåŠ¨åˆ›å»º**
   - é€šè¿‡ n8n REST API åˆ›å»ºå·¥ä½œæµ
   - å·¥ä½œæµçš„é…ç½®å’Œç®¡ç†
   - Form Trigger è¡¨å•ç”Ÿæˆ

3. **n8n ç›¸å…³è„šæœ¬**
   - `auto_create_via_api.py` - è‡ªåŠ¨åˆ›å»ºå·¥ä½œæµ
   - å…¶ä»– n8n ç®¡ç†è„šæœ¬

4. **n8n æ–‡æ¡£**
   - API ä½¿ç”¨æ–‡æ¡£
   - å·¥ä½œæµé…ç½®è¯´æ˜
   - æ•…éšœæ’æŸ¥æŒ‡å—

### âŒ ä¸è´Ÿè´£å†…å®¹

1. **Backend_v2 é¡¹ç›®**
   - Backend çš„å¯åŠ¨/åœæ­¢
   - Backend çš„é…ç½®ç®¡ç†
   - Backend çš„ä¾èµ–å®‰è£…
   - Backend çš„ç«¯å£ç®¡ç†ï¼ˆ8013ï¼‰

2. **Backend ç›¸å…³æ“ä½œ**
   - ä¸æ£€æŸ¥ Backend ä¾èµ–
   - ä¸å¯åŠ¨ Backend æœåŠ¡
   - ä¸ç®¡ç† Backend è¿›ç¨‹

---

## ğŸ—ï¸ é¡¹ç›®å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend_v2ï¼ˆç‹¬ç«‹é¡¹ç›®ï¼‰         â”‚
â”‚   - ç‹¬ç«‹å¯åŠ¨å’Œç®¡ç†               â”‚
â”‚   - ç«¯å£: 8013                  â”‚
â”‚   - æœ‰è‡ªå·±çš„æ–‡æ¡£å’Œè„šæœ¬           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ HTTP API
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   n8n é›†æˆï¼ˆæœ¬é¡¹ç›®ï¼‰             â”‚
â”‚   - ä»…ç®¡ç† n8n å®¹å™¨              â”‚
â”‚   - é€šè¿‡ API è°ƒç”¨ Backend        â”‚
â”‚   - ç«¯å£: 5678                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ä½¿ç”¨æµç¨‹

### æ­£ç¡®çš„å¯åŠ¨é¡ºåº

1. **ç”¨æˆ·è´Ÿè´£**: å¯åŠ¨ Backend_v2
   - å‚è€ƒ `backend_v2/README.md`
   - éªŒè¯: `curl http://localhost:8013/health`

2. **æœ¬é¡¹ç›®è´Ÿè´£**: å¯åŠ¨ n8n
   ```bash
   cd integrations/n8n/docker
   docker-compose up -d
   ```

3. **æœ¬é¡¹ç›®è´Ÿè´£**: åˆ›å»ºå·¥ä½œæµ
   ```bash
   cd integrations/n8n/scripts
   python3 auto_create_via_api.py
   ```

---

## âš ï¸ å¸¸è§è¯¯åŒº

### âŒ é”™è¯¯åšæ³•

1. **åœ¨ n8n é¡¹ç›®ä¸­å¯åŠ¨ Backend**
   - âŒ ä¸åº”è¯¥ï¼š`./scripts/start_all.sh`ï¼ˆåŒ…å« backend å¯åŠ¨ï¼‰
   - âŒ ä¸åº”è¯¥ï¼šåœ¨ docker-compose.yml ä¸­æ„å»º backend

2. **åœ¨ n8n é¡¹ç›®ä¸­ç®¡ç† Backend é…ç½®**
   - âŒ ä¸åº”è¯¥ï¼šä¿®æ”¹ Backend çš„ .env
   - âŒ ä¸åº”è¯¥ï¼šæ£€æŸ¥ Backend ä¾èµ–

3. **æ··æ·†ä¸¤ä¸ªé¡¹ç›®çš„ç«¯å£**
   - âŒ ä¸åº”è¯¥ï¼šåœ¨ n8n é¡¹ç›®ä¸­å ç”¨ 8013 ç«¯å£
   - âŒ ä¸åº”è¯¥ï¼šåœ¨ Backend é¡¹ç›®ä¸­å ç”¨ 5678 ç«¯å£

### âœ… æ­£ç¡®åšæ³•

1. **Backend å’Œ n8n åˆ†åˆ«ç®¡ç†**
   - âœ… Backend: å‚è€ƒ `backend_v2/README.md`
   - âœ… n8n: å‚è€ƒ `integrations/n8n/README.md`

2. **åªéªŒè¯æœåŠ¡å¯ç”¨æ€§**
   - âœ… n8n è„šæœ¬å¯ä»¥æ£€æŸ¥ Backend æ˜¯å¦å¯è®¿é—®
   - âœ… ä½†ä¸è´Ÿè´£å¯åŠ¨ Backend

3. **æ¸…æ™°çš„ä¾èµ–å…³ç³»**
   - âœ… n8n ä¾èµ– Backend API
   - âœ… ä½†ä¸ç®¡ç† Backend ç”Ÿå‘½å‘¨æœŸ

---

## ğŸ“š æ–‡æ¡£ç´¢å¼•

### Backend_v2 é¡¹ç›®æ–‡æ¡£
- `/backend_v2/README.md` - Backend å¯åŠ¨å’Œä½¿ç”¨
- `/backend_v2/API_REFERENCE.md` - API æ–‡æ¡£
- `/backend_v2/DOCKER_QUICKSTART.md` - Docker éƒ¨ç½²

### n8n é›†æˆé¡¹ç›®æ–‡æ¡£ï¼ˆæœ¬é¡¹ç›®ï¼‰
- `README.md` - å¿«é€Ÿå¼€å§‹
- `å¿«é€Ÿä½¿ç”¨æŒ‡å—.md` - ç®€åŒ–ä½¿ç”¨è¯´æ˜
- `APIè‡ªåŠ¨åˆ›å»ºå·¥ä½œæµæ–¹æ¡ˆ.md` - æŠ€æœ¯è¯¦è§£
- `ç»ˆæè‡ªåŠ¨åŒ–æ–¹æ¡ˆæ€»ç»“.md` - æ–¹æ¡ˆæ€»ç»“

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### n8n å¦‚ä½•è°ƒç”¨ Backend

n8n å·¥ä½œæµä¸­çš„ HTTP Request èŠ‚ç‚¹é…ç½®ï¼š
```python
{
    "url": "http://backend:8013/api/tasks/split",
    # æˆ–è€…ä½¿ç”¨ host.docker.internal (Docker Desktop)
    "url": "http://host.docker.internal:8013/api/tasks/split"
}
```

### ç½‘ç»œé€šä¿¡

- **Backend**: è¿è¡Œåœ¨å®¿ä¸»æœº `localhost:8013`
- **n8n**: è¿è¡Œåœ¨ Docker å®¹å™¨ä¸­
- **é€šä¿¡æ–¹å¼**: n8n é€šè¿‡ `host.docker.internal` è®¿é—®å®¿ä¸»æœºçš„ Backend

---

## ğŸ†˜ æ•…éšœæ’æŸ¥

### é—®é¢˜: Backend è¿æ¥å¤±è´¥

**ç°è±¡**: n8n å·¥ä½œæµè°ƒç”¨ Backend API å¤±è´¥

**æ’æŸ¥æ­¥éª¤**:

1. **æ£€æŸ¥ Backend æ˜¯å¦è¿è¡Œ**ï¼ˆç”¨æˆ·è´£ä»»ï¼‰
   ```bash
   curl http://localhost:8013/health
   ```

2. **æ£€æŸ¥ç½‘ç»œé…ç½®**ï¼ˆn8n é¡¹ç›®è´£ä»»ï¼‰
   - ç¡®è®¤ n8n ä½¿ç”¨æ­£ç¡®çš„ URL
   - æµ‹è¯•: `docker exec translation_n8n curl http://host.docker.internal:8013/health`

3. **æŸ¥çœ‹æ—¥å¿—**
   - Backend æ—¥å¿—: å‚è€ƒ Backend é¡¹ç›®æ–‡æ¡£
   - n8n æ—¥å¿—: `docker logs translation_n8n`

---

## âœ¨ æ€»ç»“

| é¡¹ç›® | èŒè´£ | ç«¯å£ | å¯åŠ¨æ–¹å¼ |
|-----|------|------|---------|
| **Backend_v2** | ç¿»è¯‘ API æœåŠ¡ | 8013 | å‚è€ƒå…¶è‡ªå·±çš„æ–‡æ¡£ |
| **n8n é›†æˆ** | å·¥ä½œæµè‡ªåŠ¨åŒ– | 5678 | `docker-compose up -d` |

**å…³é”®åŸåˆ™**:
- âœ… å„è‡ªç®¡ç†å„è‡ªçš„é¡¹ç›®
- âœ… é€šè¿‡ API è¿›è¡Œé›†æˆ
- âœ… ä¸è¶Šç•Œç®¡ç†å…¶ä»–é¡¹ç›®
