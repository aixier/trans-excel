# âš¡ n8n å·¥ä½œæµå¿«é€Ÿä½¿ç”¨æŒ‡å—

## ğŸ“‹ å‰ææ¡ä»¶

1. âœ… **Backend_v2 å·²è¿è¡Œ**ï¼ˆç‹¬ç«‹é¡¹ç›®ï¼Œåœ¨ `localhost:8013`ï¼‰
   - è¿™æ˜¯ç‹¬ç«‹çš„é¡¹ç›®ï¼Œè¯·å‚è€ƒ backend_v2 è‡ªå·±çš„æ–‡æ¡£å¯åŠ¨
   - éªŒè¯ï¼š`curl http://localhost:8013/health`

2. âœ… **Docker å·²å®‰è£…**
   - ç”¨äºè¿è¡Œ n8n å®¹å™¨

---

## ğŸš€ ä¸¤æ­¥å¯åŠ¨ï¼ˆä»… n8n éƒ¨åˆ†ï¼‰

### æ­¥éª¤1: å¯åŠ¨ n8n å®¹å™¨

```bash
cd /mnt/d/work/trans_excel/translation_system_v2/integrations/n8n/docker
docker-compose up -d
```

éªŒè¯ï¼š
```bash
curl http://localhost:5678/healthz
```

### æ­¥éª¤2: è‡ªåŠ¨åˆ›å»ºå·¥ä½œæµ

```bash
cd /mnt/d/work/trans_excel/translation_system_v2/integrations/n8n/scripts
python3 auto_create_via_api.py
```

**è„šæœ¬ä¼šè¾“å‡ºè¡¨å• URL**ï¼Œä¾‹å¦‚ï¼š
```
ğŸ“‹ è¡¨å•è®¿é—®åœ°å€:
   http://localhost:5678/form/abc-def-123-456
```

---

## ğŸ’¡ ä½¿ç”¨è¡¨å•

1. **è®¿é—®è¡¨å• URL**ï¼ˆä»æ­¥éª¤2çš„è¾“å‡ºä¸­å¤åˆ¶ï¼‰
2. **ä¸Šä¼  Excel æ–‡ä»¶**
3. **é€‰æ‹©ç›®æ ‡è¯­è¨€**ï¼ˆè‹±æ–‡/æ³°æ–‡/æ—¥æ–‡/éŸ©æ–‡ï¼‰
4. **è¾“å…¥æœ¯è¯­åº“**ï¼ˆå¯é€‰ï¼Œé»˜è®¤ defaultï¼‰
5. **æäº¤**

è¿”å›ç¤ºä¾‹ï¼š
```json
{
  "success": true,
  "session_id": "abc-123",
  "status_url": "http://localhost:8013/api/tasks/split/status/abc-123",
  "download_url": "http://localhost:8013/api/download/abc-123"
}
```

---

## ğŸ”„ é‡æ–°åˆ›å»ºå·¥ä½œæµ

å¦‚æœéœ€è¦ä¿®æ”¹å·¥ä½œæµé…ç½®ï¼š

1. **ç¼–è¾‘è„šæœ¬**:
   ```bash
   vim scripts/auto_create_via_api.py
   ```

2. **ä¿®æ”¹ `WORKFLOW_DEFINITION`**ï¼ˆä¾‹å¦‚æ·»åŠ è¯­è¨€é€‰é¡¹ï¼‰

3. **é‡æ–°è¿è¡Œ**:
   ```bash
   python3 scripts/auto_create_via_api.py
   ```

è„šæœ¬ä¼šè‡ªåŠ¨åˆ é™¤æ—§å·¥ä½œæµå¹¶åˆ›å»ºæ–°çš„ã€‚

---

## ğŸ›‘ åœæ­¢æœåŠ¡

```bash
cd /mnt/d/work/trans_excel/translation_system_v2/integrations/n8n/docker
docker-compose down
```

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **APIè‡ªåŠ¨åˆ›å»ºå·¥ä½œæµæ–¹æ¡ˆ.md** - å®Œæ•´æŠ€æœ¯æ–‡æ¡£
- **ç»ˆæè‡ªåŠ¨åŒ–æ–¹æ¡ˆæ€»ç»“.md** - æ–¹æ¡ˆæ€»ç»“
- **README.md** - å®Œæ•´è¯´æ˜

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: Backend è¿æ¥å¤±è´¥

**ç¡®ä¿ backend_v2 å·²å¯åŠ¨**ï¼ˆè¿™æ˜¯ç‹¬ç«‹é¡¹ç›®ï¼‰ï¼š
```bash
curl http://localhost:8013/health
```

å¦‚æœæœªå¯åŠ¨ï¼Œè¯·å‚è€ƒ backend_v2 é¡¹ç›®çš„æ–‡æ¡£ã€‚

### Q: è¡¨å•æ— æ³•è®¿é—®

é‡æ–°è¿è¡Œè‡ªåŠ¨åˆ›å»ºè„šæœ¬ï¼š
```bash
python3 scripts/auto_create_via_api.py
```

---

## âš ï¸ é‡è¦è¯´æ˜

- âœ… **æœ¬é¡¹ç›®åªè´Ÿè´£ n8n å·¥ä½œæµ**
- âœ… **Backend_v2 æ˜¯ç‹¬ç«‹é¡¹ç›®**ï¼Œæœ‰è‡ªå·±çš„å¯åŠ¨æ–¹å¼
- âœ… **ä¸è¦æ··æ·†ä¸¤ä¸ªé¡¹ç›®çš„ç®¡ç†**
- âœ… **ç¡®ä¿ backend åœ¨ 8013 ç«¯å£è¿è¡Œåå†å¯åŠ¨ n8n**
